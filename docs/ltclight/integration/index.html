<!doctype html><html lang=en dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Integration# The integration process is extreamely easy for both shader graph and shader code, no matter you are using an customized SRP render pipeline, or the offical Universal Render Pipeline.
This package works in isolation with render pipeline in most of the time, it extract surface parameters like roughtness, normal, metallic and so on from the render pipeline, do lighting calculation, then add the result back to the original render result.
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="http://yaotouge.github.io/docs/ltclight/integration/"><meta property="og:site_name" content="PetaBytes"><meta property="og:title" content="Integration"><meta property="og:description" content="Integration# The integration process is extreamely easy for both shader graph and shader code, no matter you are using an customized SRP render pipeline, or the offical Universal Render Pipeline.
This package works in isolation with render pipeline in most of the time, it extract surface parameters like roughtness, normal, metallic and so on from the render pipeline, do lighting calculation, then add the result back to the original render result."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2026-01-12T08:51:24+08:00"><meta itemprop=name content="Integration"><meta itemprop=description content="Integration# The integration process is extreamely easy for both shader graph and shader code, no matter you are using an customized SRP render pipeline, or the offical Universal Render Pipeline.
This package works in isolation with render pipeline in most of the time, it extract surface parameters like roughtness, normal, metallic and so on from the render pipeline, do lighting calculation, then add the result back to the original render result."><meta itemprop=dateModified content="2026-01-12T08:51:24+08:00"><meta itemprop=wordCount content="503"><title>Integration | PetaBytes</title><link rel=icon href=/favicon.ico><link rel=manifest href=/manifest.json><link rel=canonical href=http://yaotouge.github.io/docs/ltclight/integration/><link rel=alternate hreflang=zh href=http://yaotouge.github.io/zh/docs/ltclight/integration/ title=集成到项目><link rel=stylesheet href=/book.min.cc2c524ed250aac81b23d1f4af87344917b325208841feca0968fe450f570575.css integrity="sha256-zCxSTtJQqsgbI9H0r4c0SRezJSCIQf7KCWj+RQ9XBXU=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.751b88b49103c42c0718f5c702aaf31f327344c52c0eb11af4e55897ae5647ef.js integrity="sha256-dRuItJEDxCwHGPXHAqrzHzJzRMUsDrEa9OVYl65WR+8=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-FQ92NYKLZB"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FQ92NYKLZB")}</script></head><body dir=ltr class="book-kind-page book-type-docs"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>PetaBytes</span></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class=flex><a role=button><img src=/icons/translate.svg class=book-icon alt=Languages>
English
</a><img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/zh/docs/ltclight/integration/ class="flex flex-auto">Chinese</a></li></ul></li></ul><ul><li><input type=checkbox id=section-49c5c95a30c087d6450d18e71a3bcec6 class=toggle checked>
<label for=section-49c5c95a30c087d6450d18e71a3bcec6 class=flex><a href=/docs/ltclight/>LTC Real Time Area Lights</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/ltclight/sample/>Samples</a></li><li><a href=/docs/ltclight/integration/ class=active>Integration</a></li><li><a href=/docs/ltclight/light_types/>LTC Light Types</a><ul><li><a href=/docs/ltclight/light_types/polygon_light/>Polygon Light</a></li><li><a href=/docs/ltclight/light_types/linear_light/>Linear Light</a></li><li><a href=/docs/ltclight/light_types/textured_light/>Textured Light</a></li></ul></li><li><a href=/docs/ltclight/global_config/>Global Configuration</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>Integration</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><ul><li><a href=#integration>Integration</a><ul><li><a href=#add-ltclightmanager>Add LTCLightManager</a></li><li><a href=#shader-modification>Shader Modification</a></li><li><a href=#add-ltc-light-components>Add LTC Light Components</a></li><li><a href=#customized-render-pipeline>Customized Render Pipeline</a></li><li><a href=#specular-and-metallic-workflow>Specular and Metallic Workflow</a></li></ul></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h2 id=integration>Integration<a class=anchor href=#integration>#</a></h2><p>The integration process is extreamely easy for both shader graph and shader code, no matter you are using an customized SRP render pipeline, or the offical Universal Render Pipeline.</p><blockquote class='book-hint note'><p>This package works in isolation with render pipeline in most of the time, it extract surface parameters like roughtness, normal, metallic and so on from the render pipeline, do lighting calculation, then add the result back to the original render result.</p></blockquote><div class=book-steps><ol><li><h3 id=add-ltclightmanager>Add LTCLightManager<a class=anchor href=#add-ltclightmanager>#</a></h3><p>In order to use LTC lights, there must exist one and only one LTCLightManager instance in scene. Create an empty game object, and add LTCLightManger component to it.</p><label class=book-image for=book-image-toggle-0><input class="hidden toggle" type=checkbox id=book-image-toggle-0>
<img src=/imgs/LTCLightManager.png alt=LTCLightManager loading=lazy title=LTCLightManager></label><p>The PrefilterTexture shader is located in</p><p><code>Real Time Area Lights/Shaders/PrefilterTexture.shader</code>. It is used for Textured Light, and should be assigned to LTCLightManager.</p><p>Or you can use the Prefabs/LTCManager.prefab directly without additional setup.</p><label class=book-image for=book-image-toggle-1><input class="hidden toggle" type=checkbox id=book-image-toggle-1>
<img src=/imgs/LTCLightManager_prefab.png alt="LTCLightManager Prefab" loading=lazy title="LTCLightManager Prefab"></label></li><li><h3 id=shader-modification>Shader Modification<a class=anchor href=#shader-modification>#</a></h3><p>In the next step, minor shader modification is needed to make materials receiving LTC lighting with.</p><h4 id=for-shader-graph>For Shader Graph<a class=anchor href=#for-shader-graph>#</a></h4><p>There is no way for us to intercept the lighting process of fragment block, but we can connect our additional lighting to the emission channel, which will be added to the final lighting result.</p><label class=book-image for=book-image-toggle-2><input class="hidden toggle" type=checkbox id=book-image-toggle-2>
<img src=/imgs/shadergraph_sample.png alt=shadergraphsample loading=lazy title=shadergraphsample></label><p>So you need to create a LTCLighting node (inclued in this package) in shader graph, get input channels which is almost identical with fragment block, and link output to fragment block&rsquo;s emission. <a href=/docs/ltclight/sample/#shader-graph-sample>Refer to the ShaderGraph sample</a>.</p><h4 id=for-shader-code>For Shader Code<a class=anchor href=#for-shader-code>#</a></h4><p>It&rsquo;s also convenient to extend your hand written shaders to receive LTC lighting, there already exists helper functions to convert URP&rsquo;s lit shader input to LTC lighting input, actually they are quite the same.</p><p>Use URP lit as an example, firstly we should include LTC shaders in LitForwardPass.hlsl:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#78787e>#include</span> <span style=color:#78787e>&#34;Packages/com.petabytes.ltclight/Shaders/LTC_URP.hlsl&#34;</span></span></span></code></pre></div><p>Then add LTC lighting after URP&rsquo;s PBR calculation:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#78787e>// For example in LitForwardPass.hlsl
</span></span></span><span style=display:flex><span>InitializeBakedGIData(input, inputData);
</span></span><span style=display:flex><span>half4 color <span style=color:#ff6ac1>=</span> UniversalFragmentPBR(inputData, surfaceData);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#78787e>// Add LTC lighting here
</span></span></span><span style=display:flex><span>color.rgb <span style=color:#ff6ac1>+=</span> CalculateFragmentLTC(inputData, surfaceData);</span></span></code></pre></div><p><a href=/docs/ltclight/sample/#shader-code-sample>Refer to the shader code sample</a>.</p></li><li><h3 id=add-ltc-light-components>Add LTC Light Components<a class=anchor href=#add-ltc-light-components>#</a></h3><p>The last step is adding LTC light instances in your scene.</p><p>You can create an empty GameObject, and add LTC components to it, there three types of lights can be used directly:</p><p><a href=/docs/ltclight/light_types/linear_light/>LTC Linear Light</a></p><p><a href=%28/docs/ltclight/light_types/polygon_light%29>LTC Polygon Light</a></p><p><a href=%28/docs/ltclight/light_types/textured_light%29>LTC Textured Light</a>:</p><blockquote class='book-hint caution'><p><code>LTC Light</code> is the base class of above three light types, it can&rsquo;t be used directly.</p></blockquote><label class=book-image for=book-image-toggle-3><input class="hidden toggle" type=checkbox id=book-image-toggle-3>
<img src=/imgs/ltc_add_components.png title="Add LTC Components"></label><p>Or use the light prefabs in <code>Real Time Area Lights/Prefabs</code> directory:</p><label class=book-image for=book-image-toggle-4><input class="hidden toggle" type=checkbox id=book-image-toggle-4>
<img src=/imgs/prefabs_dir.png title="Prefabs Directory"></label></li></ol></div><blockquote class='book-hint note'><h3 id=customized-render-pipeline>Customized Render Pipeline<a class=anchor href=#customized-render-pipeline>#</a></h3><p>For customized render pipeline, you need to provide the same data as URP&rsquo;s inputData and surfaceData.
Then modify your shader the similar way as <a href=#for-shader-code>For Shader Code</a>.</p></blockquote><h3 id=specular-and-metallic-workflow>Specular and Metallic Workflow<a class=anchor href=#specular-and-metallic-workflow>#</a></h3><p>You may use specular or metallic workflow in asset authoring, this package adapts well for both:</p><div class=book-tabs><input type=radio class=toggle name=tabs-1 id=tabs-1-0 checked><label for=tabs-1-0>URP Shader Graph</label><div class="book-tabs-content markdown-inner"><p>If you are integrating into URP shadergraph, connect to the corresponding input channel according to your workflow:</p><label class=book-image for=book-image-toggle-0><input class="hidden toggle" type=checkbox id=book-image-toggle-0>
<img src=/imgs/shadergraph_workflow.png alt="specular metallic workflow" loading=lazy title="specular metallic workflow"></label></div><input type=radio class=toggle name=tabs-1 id=tabs-1-1><label for=tabs-1-1>URP Shader Code</label><div class="book-tabs-content markdown-inner"><p>If you are integrating to URP shader code, the URP shader has already taken this into consideration.</p></div><input type=radio class=toggle name=tabs-1 id=tabs-1-2><label for=tabs-1-2>Customized Render Pipeline</label><div class="book-tabs-content markdown-inner"><p>For customized render pipeline, you should do the conversion between metallic and specular when offering surface data to LTC calculate function, take URP <code>InitializeBRDFData</code> as a reference.</p></div></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/commit/96eb01831f6dd01e78415d8d339e21ccb26cca0e title='Last modified by yudong | January 12, 2026' target=_blank rel=noopener><img src=/icons/calendar.svg class=book-icon alt=Calendar>
<span>January 12, 2026</span></a></div><div></div></div><div class="flex flex-wrap justify-between"><span><a href=/docs/ltclight/sample/ class="flex align-center"><img src=/icons/backward.svg class=book-icon alt=Backward>
<span>Samples</span>
</a></span><span><a href=/docs/ltclight/light_types/ class="flex align-center"><span>LTC Light Types</span>
<img src=/icons/forward.svg class=book-icon alt=Forward></a></span></div><div class=book-comments></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#integration>Integration</a><ul><li><a href=#add-ltclightmanager>Add LTCLightManager</a></li><li><a href=#shader-modification>Shader Modification</a></li><li><a href=#add-ltc-light-components>Add LTC Light Components</a></li><li><a href=#customized-render-pipeline>Customized Render Pipeline</a></li><li><a href=#specular-and-metallic-workflow>Specular and Metallic Workflow</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>